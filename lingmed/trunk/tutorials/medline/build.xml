<?xml version="1.0"?>

<project name="LingPipe Tutorial - MEDLINE Parsing and Handling"
         default="compile"
         basedir=".">

<path id="classpath.standard">
  <pathelement location="build/classes"/>
  <pathelement location="../../lingmed-1.3.jar"/>
  <pathelement location="../../lib/lingpipe-3.9.3.jar"/>
  <pathelement location="../../lib/mysql-connector-java-5.1.15-bin.jar"/>
</path>

<target name="clean">
  <delete dir="build"/>
  <delete file="medline-demo.jar"/>
</target>

<target name="compile">
  <mkdir dir="build/classes"/>
  <javac includeAntRuntime="false"   optimize="on"
         debug="yes"
         debuglevel="source,lines,vars"
         destdir="build/classes">
    <compilerarg value="-Xlint:all"/>
    <classpath refid="classpath.standard"/>
    <src path="src/"/>
  </javac>
</target>

<target name="jar"
        depends="compile">
  <jar destfile="medline-demo.jar">
    <fileset dir="build/classes"
             includes="**/*.class"/>
  </jar>
</target>

<property name="data"
	  value="../../data/sample/medline/dist/2011/medsamp2011.xml"/>

<target name="word-count"
        depends="jar">
  <java classname="WordCountMedline"
        fork="true">
    <classpath refid="classpath.standard"/>
    <arg value="${data}"/>
  </java>
</target>

<property name="outfile"
	  value="tmp.csv"/>

<target name="chem"
        depends="jar">
  <java classname="ChemicalPmid"
        fork="true">
    <classpath refid="classpath.standard"/>
    <arg value="${data}"/>
    <arg value="${outfile}"/>
  </java>
</target>

<target name="word-count-all"
        depends="jar">
  <java classname="WordCountMedline"
        maxmemory="1400M"
        fork="true">
    <classpath refid="classpath.standard"/>
    <arg value="sample_data/2011/medsamp2011.xml"/>
    <arg value="sample_data/2011/medsamp2011a.xml.gz"/>
    <arg value="sample_data/2011/medsamp2011b.xml.gz"/>
    <arg value="sample_data/2011/medsamp2011c.xml.gz"/>
    <arg value="sample_data/2011/medsamp2011d.xml.gz"/>
    <arg value="sample_data/2011/medsamp2011e.xml.gz"/>
    <arg value="sample_data/2011/medsamp2011f.xml.gz"/>
    <arg value="sample_data/2011/medsamp2011g.xml.gz"/>
    <arg value="sample_data/2011/medsamp2011h.xml.gz"/>
  </java>
</target>


</project>
