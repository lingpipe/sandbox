<?xml version="1.0" encoding="ASCII"?>
<project>

  <property name="version"
            value="4.0"/>

  <property name="jar"
            value="build/lp-book-io-${version}.jar"/>

  <path id="classpath">
    <pathelement location="${jar}"/>
    <pathelement location="../../lib/lingpipe-4.0.0.jar"/>
  </path>

  <target name="clean">
    <delete dir="build"/>
  </target>

  <target name="jar">
    <mkdir dir="build/classes"/>
    <javac debug="yes"
           debuglevel="source,lines,vars"
           destdir="build/classes"
           includeantruntime="false">
      <classpath refid="classpath"/>
      <src path="src/"/>
    </javac>
    <jar destfile="${jar}">
      <fileset dir="build/classes"
               includes="**/*.class"/>
    </jar>
  </target>

  <property name="file.in" value="src/com/lingpipe/book/io/FileByteCount.java"/>
  <target name="file-byte-count"
          depends="jar">
    <java classname="com.lingpipe.book.io.FileByteCount"
          classpath="${jar}"
          fork="true">
      <arg value="${file.in}"/>
    </java>
  </target>

  <target name="file-dump"
          depends="jar">
    <java classname="com.lingpipe.book.io.FileDump"
          classpath="${jar}"
          fork="true">
      <arg value="${file.in}"/>
    </java>
  </target>

  <target name="list-roots"
          depends="jar">
    <java classname="com.lingpipe.book.io.ListRoots"
          classpath="${jar}"
          fork="true">
    </java>
  </target>


  <target name="file-properties"
          depends="jar">
    <java classname="com.lingpipe.book.io.FileProperties"
          classpath="${jar}"
          fork="true">
      <arg value="${file.in}"/>
    </java>
  </target>

  <property name="file.out" value="file.out.tmp"/>
  <target name="copy-files"
          depends="jar">
    <java classname="com.lingpipe.book.io.FileProperties"
          classpath="${jar}"
          fork="true">
      <classpath refid="classpath"/>
      <arg value="${file.in}"/>
      <arg value="${file.out}"/>
    </java>
  </target>

  <property name="url.in" value="http://google.com/webhp?q=dirichlet"/>
  <target name="url-properties"
          depends="jar">
    <java classname="com.lingpipe.book.io.UrlProperties"
          classpath="${jar}"
          fork="true">
      <classpath refid="classpath"/>
      <arg value="${url.in}"/>
    </java>
  </target>

  <target name="url-read"
          depends="jar">
    <java classname="com.lingpipe.book.io.UrlRead"
          classpath="${jar}"
          fork="true">
      <classpath refid="classpath"/>
      <arg value="${url.in}"/>
    </java>
  </target>

  <property name="data" value="The quick brown fox."/>
  <property name="encoding" value="UTF-8"/>
  <target name="url-write-read"
          depends="jar">
    <java classname="com.lingpipe.book.io.UrlWriteRead"
          classpath="${jar}"
          fork="true">
      <classpath refid="classpath"/>
      <arg value="${url.in}"/>
      <arg value="${data}"/>
      <arg value="${encoding}"/>
    </java>
  </target>


  <property name="enc.in" value="UTF-8"/>
  <property name="enc.out" value="UTF-16LE"/>
  <target name="file-decode-encode"
          depends="jar">
    <java classname="com.lingpipe.book.io.FileDecodeEncode"
          classpath="${jar}"
          fork="true">
      <classpath refid="classpath"/>
      <arg value="${file.in}"/>
      <arg value="${enc.in}"/>
      <arg value="${file.out}"/>
      <arg value="${enc.out}"/>
    </java>
  </target>


  <target name="run"
          depends="file-byte-count,
                   file-dump,
                   file-properties,
                   file-decode-encode,
                   list-roots,
                   copy-files,
                   url-properties,
                   url-read,
                   url-write-read"/>

</project>