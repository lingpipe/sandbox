<?xml version="1.0" encoding="ASCII"?>
<project>

  <property name="version"
            value="4.0"/>

  <property name="jar"
            value="build/lp-book-regex-${version}.jar"/>

  <path id="classpath">
    <pathelement location="${jar}"/>
    <pathelement location="../../lib/icu4j-4_4_1.jar"/>
  </path>
            

  <target name="clean">
    <delete dir="build"/>
  </target>

  <target name="jar">
    <mkdir dir="build/classes"/>
    <javac debug="yes"
           debuglevel="source,lines,vars"
           destdir="build/classes"
           includeantruntime="false">
      <compilerarg value="-Xlint:all"/>
      <classpath refid="classpath"/>
      <src path="src/"/>
    </javac>
    <jar destfile="${jar}">
      <fileset dir="build/classes"
               includes="**/*.class"/>
    </jar>
  </target>

  <property name="regex"
            value="aa"/>
  <property name="text"
            value="aaaabbaab"/>

  <target name="regex-match"
          depends="jar">
    <java classname="com.lingpipe.book.regex.RegexMatch"
          classpath="${jar}"
          fork="true">
      <arg value="${regex}"/>
      <arg value="${text}"/>
    </java>
  </target>

  <target name="regex-find"
          depends="jar">
    <java classname="com.lingpipe.book.regex.RegexFind"
          classpath="${jar}"
          fork="true">
      <arg value="${regex}"/>
      <arg value="${text}"/>
    </java>
  </target>

  <target name="regex-group"
          depends="jar">
    <java classname="com.lingpipe.book.regex.RegexGroup"
          classpath="${jar}"
          fork="true">
      <arg value="${regex}"/>
      <arg value="${text}"/>
    </java>
  </target>

  <property name="replacement" value="X"/>
  <target name="regex-replace"
          depends="jar">
    <java classname="com.lingpipe.book.regex.RegexReplace"
          classpath="${jar}"
          fork="true">
      <arg value="${regex}"/>
      <arg value="${replacement}"/>
      <arg value="${text}"/>
    </java>
  </target>

  <target name="run"
          depends="regex-match,
                   regex-find,
                   regex-group,
                   regex-replace"/>

</project>